var RevealNotes=function(){function e(){var e=document.querySelector('script[src$="notes.js"]').src;e=e.replace(/notes\.js(\?.*)?$/,"");var n=window.open(e+"notes.html","reveal.js - Notes","width=1120,height=850");Reveal.addEventListener("slidechanged",function(e){t("slidechanged")});Reveal.addEventListener("fragmentshown",function(e){t("fragmentshown")});Reveal.addEventListener("fragmenthidden",function(e){t("fragmenthidden")});function t(e){var t=Reveal.getCurrentSlide(),i;if(e==="slidechanged"){var a=t.querySelector("aside.notes"),d=Reveal.getIndices().h,r=Reveal.getIndices().v,s,o;if(t.nextElementSibling&&t.parentNode.nodeName=="SECTION"){s=d;o=r+1}else{s=d+1;o=0}i={notes:a?a.innerHTML:"",indexh:d,indexv:r,nextindexh:s,nextindexv:o,markdown:a?typeof a.getAttribute("data-markdown")==="string":false}}else if(e==="fragmentshown"){i={fragment:"next"}}else if(e==="fragmenthidden"){i={fragment:"prev"}}n.postMessage(JSON.stringify(i),"*")}n.addEventListener("load",function(e){t("slidechanged")},false)}if(window.location.search.match(/(\?|\&)notes/gi)!==null){e()}document.addEventListener("keydown",function(n){if(document.querySelector(":focus")!==null||n.shiftKey||n.altKey||n.ctrlKey||n.metaKey)return;if(n.keyCode===83){n.preventDefault();e()}},false);return{open:e}}();